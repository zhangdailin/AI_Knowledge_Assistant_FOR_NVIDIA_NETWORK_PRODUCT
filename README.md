# AI çŸ¥è¯†åŠ©æ‰‹ (AI Knowledge Assistant)

ä¸€ä¸ªåŸºäº RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ) æŠ€æœ¯çš„æ™ºèƒ½çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿã€‚ä¸“ä¸ºä¿æŠ¤ç”¨æˆ·éšç§è®¾è®¡ï¼Œé‡‡ç”¨**æ··åˆå­˜å‚¨æ¶æ„**ï¼šä¼ä¸š/å›¢é˜ŸçŸ¥è¯†åº“åœ¨äº‘ç«¯å…±äº«ï¼Œè€Œç”¨æˆ·çš„ä¸ªäººå¯¹è¯è®°å½•ä¸¥æ ¼ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ã€‚

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![React](https://img.shields.io/badge/react-18.x-61dafb.svg)
![TypeScript](https://img.shields.io/badge/typescript-5.x-3178c6.svg)
![Node](https://img.shields.io/badge/node-18%2B-339933.svg)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”’ éšç§ä¼˜å…ˆè®¾è®¡**ï¼š
  - **çŸ¥è¯†åº“å…±äº«**ï¼šä¸Šä¼ çš„æ–‡æ¡£å­˜å‚¨åœ¨ç§æœ‰æœåŠ¡å™¨ï¼Œå›¢é˜Ÿæˆå‘˜å¯å…±äº«è®¿é—®ã€‚
  - **å¯¹è¯ç§æœ‰**ï¼šèŠå¤©è®°å½•ä»…ä¿å­˜åœ¨ç”¨æˆ·æµè§ˆå™¨çš„ LocalStorageï¼Œç»ä¸ä¸Šä¼ äº‘ç«¯ï¼Œä¸”æ”¯æŒéšèº«æ¨¡å¼ä¸‹çš„â€œé˜…åå³ç„šâ€ã€‚

- **ğŸ“š æ™ºèƒ½çŸ¥è¯†åº“**ï¼š
  - **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ PDF, Word (.docx), Markdown (.md), TXT ç­‰æ ¼å¼ã€‚
  - **æ™ºèƒ½è§£æ**ï¼šå†…ç½® OCR å’Œ PDF è§£æå¼•æ“ï¼Œè‡ªåŠ¨æå–æ–‡æœ¬å†…å®¹ã€‚
  - **è¯­ä¹‰åˆ‡ç‰‡**ï¼šé‡‡ç”¨çˆ¶å­å— (Parent-Child Chunking) ç­–ç•¥ï¼Œä¿ç•™ä¸Šä¸‹æ–‡è¯­ä¹‰ã€‚

- **ğŸ§  å¼ºå¤§çš„æ£€ç´¢èƒ½åŠ›**ï¼š
  - **æ··åˆæ£€ç´¢ (Hybrid Search)**ï¼šç»“åˆå‘é‡è¯­ä¹‰æ£€ç´¢ (Embedding) å’Œå…³é”®è¯åŒ¹é… (Keyword Matching)ï¼Œç¡®ä¿é«˜å¬å›ç‡ã€‚
  - **æ„å›¾è¯†åˆ« (Intent Detection)**ï¼š
    - **å‘½ä»¤ç±»**ï¼šä¼˜å…ˆåŒ¹é…é…ç½®å‘½ä»¤å’Œ CLI è¯­æ³•ã€‚
    - **æ¦‚å¿µç±»**ï¼šä¼˜å…ˆåŒ¹é…å®šä¹‰ã€è§£é‡Šæ€§æ®µè½ï¼ˆå¦‚ "What is MLAG"ï¼‰ã€‚
    - **æ•…éšœæ’æŸ¥ç±»**ï¼šä¼˜å…ˆåŒ¹é… Troubleshooting æŒ‡å—å’Œè§£å†³æ–¹æ¡ˆã€‚
  - **ç»“æœèåˆ (RRF)**ï¼šä½¿ç”¨ Reciprocal Rank Fusion ç®—æ³•èåˆå¤šè·¯æ£€ç´¢ç»“æœï¼Œæ™ºèƒ½å¹³è¡¡ç²¾ç¡®åŒ¹é…ä¸è¯­ä¹‰ç›¸å…³æ€§ã€‚

- **ğŸ§ª å†…ç½®åŸºå‡†æµ‹è¯•**ï¼š
  - æä¾› `npm run test:benchmark` å·¥å…·ï¼Œç”¨äºè¯„ä¼°æ£€ç´¢ç³»ç»Ÿçš„å‡†ç¡®ç‡ï¼ˆPrecisionï¼‰å’Œå¬å›èƒ½åŠ›ã€‚
  - æ”¯æŒè‡ªå®šä¹‰æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨ç‰¹å®šé¢†åŸŸçš„è¡¨ç°ã€‚

- **ğŸ¤– å¤šæ¨¡å‹æ”¯æŒ**ï¼š
  - æ¥å…¥ SiliconFlow APIï¼Œæ”¯æŒ Qwen (é€šä¹‰åƒé—®)ã€DeepSeek ç­‰é«˜æ€§èƒ½å¤§æ¨¡å‹ã€‚
  - æ”¯æŒæµå¼å“åº” (Streaming)ï¼Œæä¾›æµç•…çš„å¯¹è¯ä½“éªŒã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯ (Frontend)
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ ·å¼**: Tailwind CSS + Lucide React
- **Markdownæ¸²æŸ“**: React Markdown + Syntax Highlighting

### åç«¯ (Backend)
- **è¿è¡Œæ—¶**: Node.js
- **Webæ¡†æ¶**: Express
- **æ–‡ä»¶å¤„ç†**: Multer, PDF-Parse, Mammoth
- **å‘é‡æ¨¡å‹**: Qwen-Embedding (via SiliconFlow)

### æ•°æ®å­˜å‚¨ (Storage)
- **Server**: æ–‡ä»¶ç³»ç»Ÿ (JSON) å­˜å‚¨çŸ¥è¯†åº“æ–‡æ¡£å’Œå‘é‡ç´¢å¼•ã€‚
- **Client**: LocalStorage å­˜å‚¨ç”¨æˆ·ä¼šè¯ã€æ¶ˆæ¯è®°å½•å’Œä¸ªäººè®¾ç½®ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js >= 18.0.0
- npm æˆ– pnpm

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-repo/ai-knowledge-assistant.git
cd ai-knowledge-assistant
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ `.env.example` ä¸º `.env` (å¦‚æœä¸å­˜åœ¨ï¼Œè¯·æ‰‹åŠ¨åˆ›å»º)ï¼Œå¹¶é…ç½®ä»¥ä¸‹å¿…è¦å‚æ•°ï¼š

```env
# ç¡…åŸºæµåŠ¨ API Key (ç”¨äº LLM å’Œ Embedding)
VITE_SILICONFLOW_API_KEY=your_api_key_here

# åç«¯æœåŠ¡å™¨åœ°å€ (é»˜è®¤)
VITE_API_SERVER_URL=http://localhost:8787
```

### 4. å¯åŠ¨æœåŠ¡
é¡¹ç›®åŒ…å«å‰ç«¯å’Œåç«¯ä¸¤ä¸ªæœåŠ¡ï¼Œéœ€è¦åŒæ—¶å¯åŠ¨ã€‚

**æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰**
```bash
# åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯
npm run dev
# æ³¨æ„ï¼šä½ éœ€è¦æ‰‹åŠ¨åœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œ npm run serverï¼Œæˆ–è€…é…ç½® concurrently
```

**æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨**

ç»ˆç«¯ 1 (åç«¯æœåŠ¡ - ç«¯å£ 8787):
```bash
npm run server
```

ç»ˆç«¯ 2 (å‰ç«¯é¡µé¢ - ç«¯å£ 5173/5174):
```bash
npm run dev
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173` å³å¯ä½¿ç”¨ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/       # UI ç»„ä»¶ (èŠå¤©ç•Œé¢ã€çŸ¥è¯†åº“ç®¡ç†ç­‰)
â”œâ”€â”€ lib/             # æ ¸å¿ƒé€»è¾‘åº“
â”‚   â”œâ”€â”€ aiModels.ts          # LLM æ¨¡å‹æ¥å£
â”‚   â”œâ”€â”€ retrieval.ts         # RAG æ£€ç´¢é€»è¾‘
â”‚   â”œâ”€â”€ unifiedStorage.ts    # ç»Ÿä¸€å­˜å‚¨æ¥å£ (å‰ç«¯)
â”‚   â”œâ”€â”€ localStorage.ts      # æœ¬åœ°éšç§å­˜å‚¨ (å¯¹è¯è®°å½•)
â”‚   â””â”€â”€ serverStorage.ts     # æœåŠ¡å™¨å­˜å‚¨é€‚é…å™¨
â”œâ”€â”€ stores/          # Zustand çŠ¶æ€ç®¡ç†
â””â”€â”€ server/          # åç«¯æœåŠ¡ä»£ç  (Express)
    â”œâ”€â”€ index.mjs    # API å…¥å£
    â””â”€â”€ storage.mjs  # æœåŠ¡ç«¯æ–‡ä»¶å­˜å‚¨é€»è¾‘
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1.  **æ•°æ®æŒä¹…æ€§**ï¼š
    *   **å¯¹è¯è®°å½•**ï¼šå­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ã€‚**æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**æˆ–ä½¿ç”¨**éšèº«æ¨¡å¼**ä¼šå¯¼è‡´å¯¹è¯è®°å½•ä¸¢å¤±ã€‚
    *   **çŸ¥è¯†åº“**ï¼šå­˜å‚¨åœ¨ `server/data` ç›®å½•ä¸‹ã€‚è¯·å®šæœŸå¤‡ä»½è¯¥ç›®å½•ä»¥é˜²æœåŠ¡å™¨æ•°æ®ä¸¢å¤±ã€‚

2.  **API é…é¢**ï¼š
    *   æœ¬é¡¹ç›®ä¾èµ– SiliconFlow API è¿›è¡Œ Embedding å’Œæ–‡æœ¬ç”Ÿæˆï¼Œè¯·ç¡®ä¿æ‚¨çš„ API Key æœ‰è¶³å¤Ÿçš„é…é¢ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1.  Fork æœ¬ä»“åº“
2.  åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3.  æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4.  æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5.  å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License
